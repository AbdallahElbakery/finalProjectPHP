<main class="edit-profile-page">
  <div class="profile-card">
    <h2 class="profile-title">Edit Business Information</h2>

    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="edit-form">
      <!-- صورة البروفايل -->
      <div class="avatar-upload">
        <div class="avatar-preview">
          <img [src]="profileForm.value.picture || 'assets/images/default-avatar.jpg'" alt="Profile picture">
        </div>
        <div class="avatar-edit">
          <input type="file" id="imageUpload" (change)="onFileChange($event)" accept=".png, .jpg, .jpeg">
          <label for="imageUpload" class="upload-btn">
            <i class="fas fa-camera"></i> Upload Picture
          </label>
        </div>
      </div>

      <!-- اسم الشركة -->
      <div class="input-group">
        <label for="companyName">Company Name</label>
        <input 
          type="text" 
          id="companyName" 
          formControlName="companyName" 
          placeholder="Enter company name"
          [ngClass]="{'invalid': profileForm.get('companyName')?.invalid && profileForm.get('companyName')?.touched}">
        <span class="error-msg" *ngIf="profileForm.get('companyName')?.invalid && profileForm.get('companyName')?.touched">
          Company name is required
        </span>
      </div>

      <!-- مناطق الخدمة (اختيار متعدد) -->
      <div class="input-group">
        <label for="servicesArea">Service Areas</label>
        <select 
          id="servicesArea" 
          formControlName="servicesArea" 
          multiple
          [class.invalid]="profileForm.get('servicesArea')?.invalid && profileForm.get('servicesArea')?.touched">
          <option value="New Cairo">New Cairo</option>
          <option value="Sheikh Zayed">Sheikh Zayed</option>
          <option value="6 October">6 October</option>
          <option value="Nasr City">Nasr City</option>
          <option value="Heliopolis">Heliopolis</option>
        </select>
        <span class="hint">Hold Ctrl (Windows) or Command (Mac) to select multiple</span>
      </div>

      <!-- نبذة عن النشاط -->
      <div class="input-group">
        <label for="about">About</label>
        <textarea 
          id="about" 
          rows="4" 
          formControlName="about" 
          placeholder="Tell us about your business"
          [ngClass]="{'invalid': profileForm.get('about')?.invalid && profileForm.get('about')?.touched}"></textarea>
        <span class="error-msg" *ngIf="profileForm.get('about')?.invalid && profileForm.get('about')?.touched">
          This field is required
        </span>
      </div>

      <!-- زر الحفظ -->
      <div class="form-actions">
        <button type="submit" class="save-btn" [disabled]="!profileForm.valid">
          <i class="fas fa-save"></i> Save Changes
        </button>
      </div>
    </form>
  </div>
</main>
