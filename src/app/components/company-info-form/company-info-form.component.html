<main class="profile-form-section">
  <div class="form-wrapper">
  <div class="form-card">
    <h2 class="profile-title">Business Information</h2>

    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="edit-form">
      <!-- ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ -->
      <div class="avatar-upload">
        <div class="avatar-preview">
          <img [src]="profileForm.value.picture || 'assets/images/default-avatar.jpg'" alt="Profile picture">
        </div>
        <div class="avatar-edit">
          <input type="file" id="imageUpload" (change)="onFileChange($event)" accept=".png, .jpg, .jpeg">
          <label for="imageUpload" class="upload-btn">
            <i class="fas fa-camera"></i> Upload Picture
          </label>
        </div>
      </div>

      <!-- Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© -->
      <div class="input-group">
        <label for="companyName">Company Name</label>
        <input 
          type="text" 
          id="companyName" 
          formControlName="companyName" 
          placeholder="Enter company name"
          [ngClass]="{'invalid': profileForm.get('companyName')?.invalid && profileForm.get('companyName')?.touched}">
        <span class="error-msg" *ngIf="profileForm.get('companyName')?.invalid && profileForm.get('companyName')?.touched">
          Company name is required
        </span>
      </div>
<hr>
      <!-- Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø®Ø¯Ù…Ø© (locations) -->
      <div class="simple-multi-select">

  <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª -->
  <!-- Ø²Ø± ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© -->
<div class="select-box" (click)="showDropdown = !showDropdown">
  {{selectedOptions.length > 0 ? selectedOptions.join(', ') : 'Services Area...'}}
  <span class="arrow">ðŸ”½</span>
</div>

<!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª -->
<div class="dropdown" *ngIf="showDropdown">
  <div *ngFor="let option of options"
       class="option"
       [class.selected]="isSelected(option)"
       (click)="toggleSelection(option)">
    <input type="checkbox" [checked]="isSelected(option)" readonly>
    {{option}}
  </div>
</div>

<!-- Ø±Ø¨Ø· ÙØ¹Ù„ÙŠ Ø¨Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© -->
<input type="hidden" formControlName="locations">

</div>
<hr>

      <!-- Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„Ù†Ø´Ø§Ø· -->
      <div class="input-group">
        <label for="about">About</label>
        <textarea 
          id="about" 
          rows="4" 
          formControlName="about" 
          placeholder="Tell us about your business"
          [ngClass]="{'invalid': profileForm.get('about')?.invalid && profileForm.get('about')?.touched}"></textarea>
        <span class="error-msg" *ngIf="profileForm.get('about')?.invalid && profileForm.get('about')?.touched">
          This field is required
        </span>
      </div>

      <!-- Ø²Ø± Ø§Ù„Ø­ÙØ¸ -->
      <div class="form-actions">
        <button type="submit" class="save-btn" [disabled]="!profileForm.valid">
          <i class="fas fa-save"></i> Save Changes
        </button>
      </div>
    </form>
  </div>
  </div>
</main>
